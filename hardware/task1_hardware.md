# 硬件组第一次自学任务——电子设计基础与 PCB 制板

## 任务概述

本任务旨在帮助你快速入门电子电路设计和 PCB（Printed Circuit Board，印刷电路板）制作，掌握从原理图设计到 PCB 布局布线的基本技能。

## 学习目标

- 理解基本电子元器件的功能和使用方法
- 掌握嘉立创 EDA 的安装和基本操作
- 学会绘制原理图和设计 PCB 布局
- 了解 PCB 制造的基本流程和设计规范
- 完成一个简单的电路设计项目

## 任务内容

### 第一部分：理论学习

#### 1. 基础电子元器件

- **电阻（Resistor）**
  - 作用：限制电流、分压
  - 参数：阻值（Ω）、功率（W）、精度

- **电容（Capacitor）**
  - 作用：滤波、耦合、储能
  - 分类：电解电容、陶瓷电容、薄膜电容
  - 参数：容值（F）、耐压值、ESR

- **二极管（Diode）**
  - 作用：单向导电、整流、稳压
  - 类型：普通二极管、发光二极管（LED）、稳压二极管

- **三极管与场效应管**
  - 三极管（BJT）：放大、开关
  - 场效应管（MOSFET）：高速开关、功率控制

- **集成电路（IC）**
  - 运算放大器、电源管理芯片、微控制器等

#### 2. PCB 设计基础

- **什么是 PCB？**
  - 承载电子元器件的基板
  - 通过铜箔走线连接各元器件
  - 层数：单层板、双层板、多层板

- **PCB 设计流程**
  1. 原理图设计（Schematic）
  2. 元器件封装库管理
  3. PCB 布局（Layout）
  4. 走线与布线（Routing）
  5. 设计规则检查（DRC）
  6. 生成制造文件（Gerber）

- **设计规范**
  - 走线宽度与电流关系
  - 间距要求（安全距离）
  - 地线与电源线设计
  - 信号完整性考虑

#### 3. 推荐学习资源

- 文档阅读：
  - [嘉立创 EDA 使用手册](https://prodocs.lceda.cn/)
  - [PCB 设计规范指南](https://www.jlc.com/portal/vtechnology.html)

---

### 第二部分：工具安装与配置

#### 1. 安装嘉立创 EDA（立创 EDA 专业版）

**下载地址：** https://lceda.cn/page/download

- Windows/Mac/Linux 均支持
- 提供在线版和客户端版本
- 推荐使用客户端版本，性能更好

**安装步骤：**

```bash
# Linux 用户（以 Ubuntu 为例）
# 下载 .deb 安装包后
sudo dpkg -i lceda-pro_*.deb
sudo apt-get install -f  # 解决依赖问题
```

Windows/Mac 用户直接运行安装程序即可。

#### 2. 注册账号

- 访问 https://lceda.cn/ 注册账号
- 登录后可同步工程到云端
- 可以使用海量的元器件库和封装库

#### 3. 熟悉界面

- 原理图编辑器
- PCB 编辑器
- 库管理器
- 元器件搜索功能

---

### 第三部分：实践任务

#### 任务 1：LED 闪烁电路设计

**目标：** 设计一个基于 555 定时器的 LED 闪烁电路

**电路功能：** LED 以固定频率闪烁

**步骤：**

1. **创建新工程**
   - 打开立创 EDA 专业版
   - 新建工程 → 输入工程名称

2. **绘制原理图**
   - 搜索并放置元器件
   - 使用"导线"工具连接元器件
   - 添加电源符号和地符号
   - 标注元器件编号和参数
   - 添加网络标号（可选）

3. **检查原理图**
   - 使用 ERC（电气规则检查）
   - 确保没有未连接的引脚
   - 检查电源和地是否正确

4. **转换到 PCB**
   - 点击"转 PCB"按钮
   - 自动生成 PCB 文件

---

#### 任务 2：PCB 布局与布线

**目标：** 完成 LED 闪烁电路的 PCB 设计

**步骤：**

1. **设置板框**
   - 定义 PCB 尺寸（建议 50mm × 40mm）
   - 绘制板框轮廓
   - 可以设计成圆角矩形

2. **元器件布局**
   - 将元器件从原理图导入 PCB
   - 合理摆放元器件位置
   - 遵循原则：
     - 输入输出分离
     - 按信号流向排列
     - 电源和地就近
     - 大功率器件远离敏感元件

3. **布线**
   - 优先布电源和地线
   - 使用自动布线或手动布线
   - 尽量减少飞线和交叉

4. **铺铜**
   - 顶层和底层分别铺地铜
   - 提高抗干扰能力和散热性能
   - 确保铺铜与焊盘连接良好

5. **添加标识**
   - 丝印层添加文字（如电路名称、日期）
   - 标注引脚定义
   - 添加极性标记

6. **设计规则检查（DRC）**
   - 运行 DRC 检查
   - 修复所有错误和警告
   - 确保符合制造要求

---

#### 任务 3：USB 转串口模块设计（选做）

**目标：** 设计一个基于 CH340G 芯片的 USB 转串口模块

**所需元器件：**
- CH340G 芯片
- USB Type-C 座子或 Micro USB 座子
- 晶振 12MHz
- 电容：22pF × 2、100nF × 3、10μF × 1
- 电阻：1kΩ × 2、10kΩ × 1
- LED × 2
- 排针座（用于引出串口信号）

**步骤：**

1. **查阅数据手册**
   - 下载 CH340G 数据手册
   - 理解引脚定义和典型应用电路
   - 注意 USB 信号线的差分要求

2. **绘制原理图**
   - 按照数据手册搭建电路
   - 添加必要的滤波电容
   - LED 指示灯电路（电源指示、数据传输指示）
   - 添加 ESD 保护（可选）

3. **PCB 设计要点**
   - USB 差分信号线等长等宽
   - 晶振尽量靠近芯片，走线短
   - 电源退耦电容靠近芯片电源引脚
   - USB 座子下方不要铺铜

4. **导出生产文件**
   - 生成 Gerber 文件
   - 生成钻孔文件
   - 生成 BOM（物料清单）
   - 生成坐标文件（用于贴片）

---

#### 任务 4：PCB 打样与焊接

**打样流程：**

1. **选择 PCB 制造商**
   - 嘉立创：https://www.jlc.com/
   - 华秋：https://www.hqpcb.com/
   - 捷配：https://www.jiepei.com/

2. **提交订单（以嘉立创为例）**
   - 在立创 EDA 中直接下单
   - 或在嘉立创官网上传 Gerber 文件
   - 选择板材、层数、厚度、颜色等参数
==尽量选嘉立创，因为有免费券==

3. **元器件采购**
   - 嘉立创商城：https://www.szlcsc.com/
   - 立创商城搜索 BOM 清单中的元器件
   - 确认封装型号匹配
   - 立创商城的元件价格略高，如果有能力尽量自己在淘宝上买

4. **焊接与调试**
   - 准备工具：烙铁、焊锡、镊子、万用表
   - 先焊接小元件（电阻、电容）
   - 再焊接大元件（IC、接插件）
   - 焊接完成后检查：
     - 虚焊、冷焊、桥接
     - 极性是否正确
     - 短路检测

5. **功能测试**
   - 上电前测量电源与地之间阻值
   - 分步测试各功能模块
   - 使用示波器观察关键信号

---

### 第四部分：进阶任务

1. **四层板电源设计**

学习多层 PCB 设计，完成一个包含以下功能的电源板：

- 输入：DC 12V 或 XT60 接口
- 输出 1：5V/3A（降压模块，如 LM2596）
- 输出 2：3.3V/1A（LDO，如 AMS1117）
- 保护电路：反接保护、过流保护
- 指示电路：电源指示 LED

要求：

- 使用四层板设计（顶层-地层-电源层-底层）
- 学习电源平面分割和地平面设计
- 热设计考虑（散热焊盘、铺铜）

---

## 提交要求

完成以下内容并提交：

1. **设计文件**
   - 立创 EDA 工程文件（.lceda 或在线工程链接）
   - 原理图 PDF
   - PCB 截图（3D 视图）
   - Gerber 文件

2. **实践报告**（Markdown 或 PDF）
   - 设计思路和电路原理说明
   - 元器件选型理由
   - PCB 布局布线的考虑
   - 遇到的问题和解决方案
   - 如完成打样焊接，提供实物照片和测试结果

3. **学习笔记**
   - 基本元器件的理解
   - PCB 设计规范总结
   - 工具使用心得
   - 心得体会

4. **BOM 清单**
   - 元器件清单（Excel 或 CSV）
   - 包含：编号、名称、封装、数量、参考型号

---

## 参考资源

- [立创 EDA 官方文档](https://prodocs.lceda.cn/)
- [嘉立创 PCB 设计规范](https://www.jlc.com/portal/vtechnology.html)
- [硬件十万个为什么](https://www.mr-wu.cn/)
- [TI 在线培训](https://training.ti.com.cn/)
- [野火电子教程](http://doc.embedfire.com/)

## 附录：常用元器件封装对照表

| 元器件类型 | 常用封装 | 说明 |
|-----------|---------|------|
| 电阻/电容 | 0805、0603、0402 | 数字表示尺寸（英制） |
| 电解电容 | RB2/5、RB5/10 | 直径/间距（mm） |
| LED | 0805、0603、5mm 插件 | 贴片或插件 |
| 二极管 | SOD-123、DO-214AC（SMA） | 贴片封装 |
| 三极管 | SOT-23、SOT-23-3 | 小信号三极管 |
| MOSFET | SOT-23、TO-252（DPAK） | 根据功率选择 |
| IC 芯片 | SOP、SSOP、QFP、QFN | 根据芯片型号 |
| 接插件 | 2.54mm 排针排母 | 标准间距 |
